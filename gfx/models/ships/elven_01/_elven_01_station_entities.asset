@research_station_scale = 1.0
@research_station_gamescale = 13.0

@observation_station_scale = 1.0
@observation_station_gamescale = 13.0

@mining_station_scale = 1.0
@mining_station_beam_scale = 150.0
@mining_station_gamescale = 13.0

## DEPRECATED STATIONS ##
@orbital_station_gamescale = 17
@terraforming_station_gamescale = 13

####################################################
####											####
####               ELVEN STATIONS               ####
####											####
####################################################

######################
## RESEARCH STATION ##
######################

## PRIMARY ENTITY ##

## NOTE: This wonky setup is to stop the even wonkier effect of two science stations being drawn on top of each other. It appears that some kind of hardcoded (or somewhere I can't find) thing will -always- paste whatever the pdxmesh is on "part1". So here I specify an empty mesh. So it can do it's crazy stuff on that, THEN I attach my actual science station "elven_01_research_station_object_entity". 
entity = {
	name = "elven_01_research_station_entity"
	pdxmesh = "elven_01_empty_mesh"

	locator = { name = "part1" 		position = { 0 0 0 } }
	
	attach = { "part1" = "elven_01_research_station_object_entity" }
}

## MAIN SCIENCE STATION ##

entity = {
	name = "elven_01_research_station_object_entity"
	pdxmesh = "elven_01_science_station_mesh"
	
	default_state = "idle"
	state = { 
				name = "idle" animation = "idle" animation_speed = 0.06
				
				start_event = { trigger_once = yes sound = { soundeffect = "amb_research_station_signals" } }
				
				event = { time = 0.8 node = "light_locator1" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
				
				event = { time = 3 node = "light_locator2" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
				
				event = { time = 2 node = "light_locator3" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
				
				event = { time = 1 node = "light_locator4" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
				
				event = { time = 2.6 node = "light_locator5" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
				
				event = { time = 3.4 node = "light_locator6" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
	}
	
	state = { 
				name = "death" state_time = 3 looping = no
				
				event = { time = 0.0 node = "explosion_locator1" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
				
				event = { time = 0.5 node = "explosion_locator2" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
				
				event = { time = 1.5 node = "explosion_locator3" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
				
				event = { time = 2.9 particle = "medium_station_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_large" } }
	}
	
	scale = @research_station_scale
	
	game_data = {
		size = @research_station_gamescale
	}
}

## RESEARCH CONSTRUCTION ##

entity = {
	name = "elven_01_research_station_construction_entity"
	pdxmesh = "elven_01_science_construction_mesh"
		default_state = "idle"
		state = { name = "idle" state_time = 5
			event = { trigger_once = yes sound = { soundeffect = "place_construction" } }
		}
	scale = @research_station_scale
}

#########################
## OBSERVATION STATION ##
#########################

entity = {
	name = "elven_01_observation_station_entity"
	pdxmesh = "elven_01_observation_station_mesh"
	
	default_state = "idle"
	state = { 
		name = "idle" animation = "idle" animation_speed = 0.06
		
		start_event = { trigger_once = yes sound = { soundeffect = "amb_research_station_signals" } }
		
		event = { time = 0.8 node = "light_locator1" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
		
		event = { time = 3 node = "light_locator2" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
		
		event = { time = 2 node = "light_locator3" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
	}
	
	state = { 
		name = "death" state_time = 3 looping = no
		
		event = { time = 0.0 node = "explosion_locator1" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		
		event = { time = 0.5 node = "explosion_locator2" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		
		event = { time = 1.5 node = "explosion_locator3" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		
		event = { time = 2.9 particle = "medium_station_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_large" } }
	}
	
	scale = @observation_station_scale
	
	game_data = {
		size = @observation_station_gamescale
	}
}

## OBSERVATION CONSTRUCTION ##

entity = {
	name = "elven_01_observation_station_construction_entity"
	pdxmesh = "elven_01_observation_station_construction_mesh"
		default_state = "idle"
		state = { name = "idle" state_time = 5
			event = { trigger_once = yes sound = { soundeffect = "place_construction" } }
		}
	scale = @observation_station_scale
}

####################
## MINING STATION ##
####################

## PRIMARY ENTITY ##

## NOTE: This wonky setup is to stop the even wonkier effect of two mining stations being drawn on top of each other. It appears that some kind of hardcoded (or somewhere I can't find) thing will -always- paste whatever the pdxmesh is on "part1". So here I specify an empty mesh. So it can do it's crazy stuff on that, THEN I attach my actual mining station "elven_01_mining_station_object_entity". 
entity = {
	name = "elven_01_mining_station_entity"
	pdxmesh = "elven_01_empty_mesh"

	locator = { name = "part1" 		position = { 0 0 0 } }
	
	attach = { "part1" = "elven_01_mining_station_object_entity" }
}

## MAIN STATION ENTITY ##

entity = {
	name = "elven_01_mining_station_object_entity"
	pdxmesh = "elven_01_mining_station_mesh"
	
	attach = { "beamnode" = "elven_01_mining_beam_main_entity" }
	
	default_state = "idle"
	
	state = { 	
				name = "idle" animation = "idle" animation_speed = 0.06 
				start_event = { trigger_once = yes sound = { soundeffect = "amb_mining_station_signals" } }
	}

	state = { 	
				name = "death" state_time = 2
				
				event = { time = 0.0 node = "explosion_locator1" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
				
				event = { time = 0.5 node = "explosion_locator2" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
				
				event = { time = 1.5 node = "explosion_locator3" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
				
				event = { time = 1.9 particle = "medium_station_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_large" } }
	}
	scale = @mining_station_scale
	
	game_data = 
	{
		size = @mining_station_gamescale
	}
}

## MINING BEAM ##

# NEW SUCK ZONE EFFECT #
entity = {
	name = "elven_01_mining_beam_main_entity"
	pdxmesh = "elven_01_empty_mesh"
	
	locator = { name = "center" position = { 0 0 0 } rotation = { 0 90 0 } }
	
	default_state = "idle"
	state = { 
				name = "idle" state_time = 5
				event = { time = 0.0 node = "center" particle = "elven_01_new_mining_beam_effect" keep_particle = yes trigger_once = yes }
	}
	
	scale = 1.0
}

## MINING CONTRUCTION ##

entity = {
	name = "elven_01_mining_station_construction_entity"
	pdxmesh = "elven_01_mining_station_construction_mesh"
		default_state = "idle"
		state = { 
					name = "idle" state_time = 5
					event = { trigger_once = yes sound = { soundeffect = "place_construction" } }
		}
		
	scale = @mining_station_scale
}

#############################
####					 ####
#### DEPRECATED STATIONS ####
####					 ####
#############################

#NOTE: None of these are used anymore. Kept here mainly due to custom models existing for them.

#############
## UNKNOWN ##
#############

#NOTE: Used to be present in older ship styles. Commented out unless it is needed somewhere.
# entity = {
	# name = "elven_01_wormhole_main_entity"
	# pdxmesh = "blue_white_star_icon_mesh"
	# scale = 10.0
# }

##############
## SHIPYARD ##
##############

## SHIPYARD FRAME ##
## NOTE: The station core entity is hardcorded to automatically be placed on the "part1" node. As such, we only attach the bottom half of the section in this entity!!
entity = {
	name = "elven_01_orbital_station_entity"
	pdxmesh = "elven_01_shipyard_frame_mesh"
	#cull_radius = 1.0
	
	attach = { "bottom_station" = "elven_01_shipyard_bottom_entity" }
	
	default_state = "idle"
	state = { name = "idle" animation = "idle" animation_blend_time = 5 animation_speed = 0.06 }
		
	state = { name = "construction" animation = "construction" }
	
	state = { name = "death" state_time = 5 looping = no
		event = { time = 4.9 particle = "large_station_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_large" } }
	}
	
	game_data = {
		size = @orbital_station_gamescale
	}
}

## SHIPYARD TOP ##
## NOTE: This is automatically placed on the "part1" node in the shipyard frame!!
entity = {
	name = "elven_01_orbital_station_core_entity"
	pdxmesh = "elven_01_shipyard_top_mesh"	
	
	default_state = "idle"
	state = { name = "idle" state_time = 5 
		start_event = { trigger_once = yes sound = { soundeffect = "spaceport_hum_idle" } } 
		event = { time = 0 node = "light_locator_01" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
	}
	state = { name = "death" state_time = 5 looping = no
		event = { time = 0.0 node = "explosion_1" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		event = { time = 0.5 node = "explosion_2" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		event = { time = 1.5 node = "explosion_3" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		event = { time = 2.0 node = "explosion_4" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		event = { time = 4.0 node = "explosion_5" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
	}
}

## CONSTRUCTION ##

entity = {
	name = "elven_01_orbital_station_construction_entity"
	pdxmesh = "elven_01_shipyard_top_mesh"	
		default_state = "idle"
		state = { name = "idle" state_time = 5
			event = { trigger_once = yes sound = { soundeffect = "place_construction" } }
		}
	scale = 1.0
}

## SHIPYARD BOTTOM ##
entity = {
	name = "elven_01_shipyard_bottom_entity"
	pdxmesh = "elven_01_shipyard_bottom_mesh"
}


######################
## FRONTIER OUTPOST ##
######################

## EMPTY ENTITY ##

## NOTE: This one is even weirder than the science/mining stations. Apparently the outpost_station_entity is completely unused and can be omitted. Leaving this here as a reminder. Otherwise, the frontier has the same issues as the mining/science stations with regards to the station mesh being rendered twice.

# entity = {
	# name = "elven_01_outpost_station_entity"
	
	# locator = { name = "part1" 		position = { 0 0 0 } }

	# scale = 1.0
# }

entity = {
	name = "elven_01_outpost_station_section_entity"
	pdxmesh = "elven_01_empty_mesh"

	locator = { name = "part1" 		position = { 0 0 0 } }
	
	attach = { "part1" = "elven_01_outpost_station_main_entity" }
}

## MAIN FRONTIER ENTITY ##

entity = {
	name = "elven_01_outpost_station_main_entity"
	pdxmesh = "elven_01_frontier_station_mesh"
	
	default_state = "idle"
	state = { 
		name = "idle" animation = "idle" animation_speed = 0.06
		
		start_event = { trigger_once = yes sound = { soundeffect = "amb_outpost_station_idle" } }
	}
	
	state = { 
		name = "death" state_time = 3 looping = no
		
		event = { time = 0.0 node = "explosion_locator1" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		
		event = { time = 0.5 node = "explosion_locator2" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		
		event = { time = 1.5 node = "explosion_locator3" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
		
		event = { time = 2.9 particle = "medium_station_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_large" } }
	}
	
	scale = 1.0
}

## FRONTIER CONSTRUCTION ##

entity = {
	name = "elven_01_outpost_station_construction_entity"
	pdxmesh = "elven_01_frontier_station_construction_mesh"	
		default_state = "idle"
		state = { name = "idle" state_time = 5
			event = { trigger_once = yes sound = { soundeffect = "place_construction" } }
		}
	
	scale = 1.0
}


######################
## WORMHOLE STATION ##
######################

entity = {
	name = "elven_01_wormhole_station_entity"
	pdxmesh = "elven_01_wormhole_station_mesh"
	
	default_state = "idle"
	state = { 
				name = "idle" animation = "idle" animation_speed = 0.08
				
				start_event = { trigger_once = yes sound = { soundeffect = "amb_wormhole_station_idle" } }
				
				event = { time = 0.0 node = "EmitterNode" particle = "cloud_entity_center_particle" keep_particle = yes trigger_once = yes }
	}
	
	state = { 
				name = "death" animation = "death" looping = no
				event = { time = 0.0 node = "EmitterNode" particle = "dreadnought_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_large" } }	
	}
	
	scale = 1.0
	
	game_data = {
		size = @research_station_gamescale
	}
}

## WORMHOLE CONSTRUCTION ##

entity = {
	name = "elven_01_wormhole_station_construction_entity"
	pdxmesh = "elven_01_wormhole_station_construction_mesh"
		default_state = "idle"
		state = { name = "idle" state_time = 5
			event = { trigger_once = yes sound = { soundeffect = "place_construction" } }
		}
	scale = 1.0
}


##########################
## TERRAFORMING STATION ##
##########################

entity = {
	name = "elven_01_terraform_station_entity"
	pdxmesh = "elven_01_terraforming_station_mesh"
	
	default_state = "idle"
		state = { name = "idle" animation = "rotate"
			start_event = { trigger_once = yes sound = { soundeffect = "amb_terraforming_station_idle_hum" } }
			event = { time = 1 node = "light_locator_01" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
			event = { time = 2 node = "light_locator_02" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
			event = { time = 0.7 node = "light_locator_03" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
			event = { time = 0 node = "light_locator_04" particle = "elven_ship_light_viola_effect" keep_particle = yes trigger_once = yes }
		}
		
		state = { name = "death" animation = "death" looping = no
			event = { time = 0.0 node = "explosion_1" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
			event = { time = 0.5 node = "explosion_2" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
			event = { time = 0.9 node = "explosion_3" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
			event = { time = 1.4 node = "explosion_4" particle = "ship_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_small" } }
			
			event = { time = 1.9 particle = "medium_station_explosion_particle" keep_particle = yes trigger_once = yes sound = { soundeffect = "station_explosion_large" } }
		}
		scale = 1.0
		
		game_data = {
			size = @terraforming_station_gamescale
		}
}

## TERRAFORMING CONSTRUCTION ##

entity = {
	name = "elven_01_terraform_station_construction_entity"
	pdxmesh = "elven_01_terraforming_station_mesh"
		default_state = "idle"
		state = { name = "idle" animation = "rotate" animation_speed = 0
			event = { trigger_once = yes sound = { soundeffect = "place_construction" } }
		}
	scale = 1.0
}

########################
## ELVEN CITY PLANETS ##
########################

# entity = {
# 	name = "elven_01_city_planet_entity"
# 	pdxmesh = "elven_01_city_planet_mesh"
	
# 	default_state = "idle"
# 	state = { name = "idle" animation = "idle" time_offset = { 0 100 } }

# 	attach = { planet = "city_planet_surface_ships_entity" }
# }

################################
## OLD MINING STATION EFFECTS ##
################################

# OLD RINGS EFFECT
entity = {
	name = "elven_01_mining_beam_glow_entity"
	pdxmesh = "elven_01_empty_mesh"
	
	locator = { name = "center" position = { 0 0 0 } rotation = { 0 0 0 } }
	
	default_state = "idle"
	state = { 
				name = "idle" state_time = 5
				event = { time = 0.0 node = "center" particle = "elven_01_mining_beam_effect" keep_particle = yes trigger_once = yes }
				#event = { trigger_once = yes sound = { soundeffect = "amb_terraforming_station_active" } }
	}
	
	scale = @mining_station_beam_scale
}

# OLD STYLE BEAM
entity = {
	name = "elven_01_mining_beam_old_entity"
	pdxmesh = "elven_01_mining_beam_mesh"
	
	default_state = "idle"
	state = { 
				name = "idle" state_time = 5
				event = { time = 0.0 node = "root" particle = "elven_01_mining_beam_effect" keep_particle = yes trigger_once = yes }
				#event = { trigger_once = yes sound = { soundeffect = "amb_terraforming_station_active" } }
	}
	
	game_data = {
					uv_animation_speed   = -1.00
					uv_animation_direction  = { -0.5 -0.5 }
	}
	
	scale = @mining_station_beam_scale
}

