namespace = Events_GAPS_Traits_Smallholders

#CORE EVENT
planet_event = {
	id = Events_GAPS_Traits_Smallholders.10
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		every_owned_pop = {
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_1
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_2
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_3
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_4
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_5
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_6
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_7
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_8
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_9
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_10
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_11
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_12
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_13
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_14
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_15
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_16
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_17
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_18
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Bonus_S_19
				
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_21
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_22
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_23
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_24
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_25
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_26
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_27
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_28
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_29
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_30
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_31
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_32
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_33
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_34
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_35
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_36
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_37
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_38
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_39
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_40
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_41
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_42
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_43
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_44
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_45
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_46
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_47
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_48
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_49
			remove_modifier = Pop_Modifier_GAPS_Smallholders_Penalty_S_50
		}	
		if = { 
			limit = { 
				is_colony = yes 
				is_artificial = no 
			}
			save_event_target_as = Target_Planet_GAPS_Smallholders_Planet
			Scripted_Planet_Effect_Apply_Smallholders_Modifiers = yes
		}
	}
}
# A pop has been added to the planet
# Root = pop
# From = planet
#on_pop_added
pop_event = {
	id = Events_GAPS_Traits_Smallholders.20
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		Root = { pop_has_trait = Trait_GAPS_Smallholders }
	}
	immediate = {
		From = {	
			planet_event = { id = Events_GAPS_Traits_Smallholders.10 days = 1 }
		}
	}
}