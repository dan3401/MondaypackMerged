namespace = Events_GAPS_Traits_Capital

#CORE EVENT
planet_event = {
	id = Events_GAPS_Traits_Capital.10
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		if = {
			limit = { is_capital = yes }
			set_planet_flag = Planet_Flag_GAPS_Capital_Planet
			every_owned_pop = {
				limit = { pop_has_trait = Trait_GAPS_Capital }
				remove_modifier = Pop_Modifier_GAPS_Capital_Bonus
				add_modifier = { modifier = Pop_Modifier_GAPS_Capital_Bonus days = -1 }
			}
		}
		else_if = {
			limit = { has_planet_flag = Planet_Flag_GAPS_Capital_Planet }
			every_owned_pop = {
				limit = { pop_has_trait = Trait_GAPS_Capital }
				remove_modifier = Pop_Modifier_GAPS_Capital_Bonus
			}
		}
	}
}
#monthly pulse
country_event = {
	id = Events_GAPS_Traits_Capital.11
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		
	}
	immediate = {
		every_owned_planet = {
			planet_event = { id = Events_GAPS_Traits_Capital.10 days = 1 }
		}
	}
}
# A pop has been added to the planet
# Root = pop
# From = planet
#on_pop_added
pop_event = {
	id = Events_GAPS_Traits_Capital.20
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		Root = { pop_has_trait = Trait_GAPS_Capital }
	}
	immediate = {
		From = { 
			planet_event = { id = Events_GAPS_Traits_Capital.10 days = 1 } 
		}
	}
}