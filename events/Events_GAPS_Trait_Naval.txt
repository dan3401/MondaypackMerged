namespace = Events_GAPS_Traits_Naval

#CORE EVENT
planet_event = {
	id = Events_GAPS_Traits_Naval.10
	is_triggered_only = yes
	hide_window = yes

	immediate = {
		set_variable = { which = "Planet_Variable_GAPS_Num_Naval_Pops" value = 0 }
		every_deposit = {
			limit = { is_deposit_type = Deposits_GAPS_Navals }
			remove_deposit = yes
		}
		every_owned_pop = {
			limit = { pop_has_trait = Trait_GAPS_Naval }
			planet = { change_variable = { which = "Planet_Variable_GAPS_Num_Naval_Pops" value = 1 } }
		}
		#owner = {
		#	set_variable = { which = "Country_Variable_GAPS_Num_Naval_Pops" value = 0 }
		#	every_owned_planet = {
		#		limit = { is_colony = yes }
		#		while = {
		#			count = Planet_Variable_GAPS_Num_Naval_Pops
		#			owner = { change_variable = { which = "Country_Variable_GAPS_Num_Naval_Pops" value = 1 } }
		#		}
		#	}
		#	remove_modifier = Country_Modifier_GAPS_Trait_Inoffensive
		#	add_modifier = {
		#		modifier = Country_Modifier_GAPS_Trait_Naval
		#		days = -1
		#		multiplier = Country_Variable_GAPS_Num_Naval_Pops
		#	}
		#}
		while = {
			count = Planet_Variable_GAPS_Num_Naval_Pops
			add_deposit = Deposits_GAPS_Navals
		}
	}
}
# A pop has been added to the planet
# Root = pop
# From = planet
#on_pop_added
pop_event = {
	id = Events_GAPS_Traits_Naval.20
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		Root = { pop_has_trait = Trait_GAPS_Naval }
	}
	immediate = {
		From = {	
			planet_event = { id = Events_GAPS_Traits_Naval.10 days = 1 }
		}
	}
}
# Pop is abducted by raiding stance
# This = Pop scope
# From = planet abducted from
pop_event = {
	id = Events_GAPS_Traits_Naval.21
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		This = { pop_has_trait = Trait_GAPS_Naval }
	}
	immediate = {
		From = {	
			planet_event = { id = Events_GAPS_Traits_Naval.10 days = 1 }
		}
	}
}
# A pop has finished purging
# This = Planet scope
# From = Country
# FromFrom = Pop
planet_event = {
	id = Events_GAPS_Traits_Naval.22
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		FromFrom = { pop_has_trait = Trait_GAPS_Naval }
	}
	immediate = {
		This = {	
			planet_event = { id = Events_GAPS_Traits_Naval.10 days = 1 }
		}
	}
}
# A pop has finished declining (while not being purged)
# This = Planet scope
# From = Country
# FromFrom = Pop
planet_event = {
	id = Events_GAPS_Traits_Naval.23
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		FromFrom = { pop_has_trait = Trait_GAPS_Naval }
	}
	immediate = {
		This = {	
			planet_event = { id = Events_GAPS_Traits_Naval.10 days = 1 }
		}
	}
}
# A pop has been displaced
# This = Planet scope
# From = Country
# FromFrom = Pop
planet_event = {
	id = Events_GAPS_Traits_Naval.24
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		FromFrom = { pop_has_trait = Trait_GAPS_Naval }
	}
	immediate = {
		This = {	
			planet_event = { id = Events_GAPS_Traits_Naval.10 days = 1 }
		}
	}
}

# This = Planet where the pop was bombed to death
# From = Country which is raining down fire and brimstone
#on_pop_bombed_to_death = {
planet_event = {
	id = Events_GAPS_Traits_Naval.25
	is_triggered_only = yes
	hide_window = yes

	trigger = {
		This = { any_owned_species = { has_trait = Trait_GAPS_Naval } }
	}
	immediate = {
		This = {	
			planet_event = { id = Events_GAPS_Traits_Naval.10 days = 1 }
		}
	}
}

