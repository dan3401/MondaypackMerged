namespace = Events_GAPS_Traits_Builder
country_event = {
    id = Events_GAPS_Traits_Builder.1
    is_triggered_only = yes
    hide_window = yes
    trigger = {
        any_owned_pop = {
            has_trait = Trait_GAPS_Builder
        }
    }
    immediate = {
        every_owned_planet = {
            limit = {
                is_colony = yes
            }
            set_variable = {
                which = "Planet_Variable_GAPS_Num_Builder_Pops"
                value = 0
            }
            every_deposit = {
                limit = {
                    is_deposit_type = Deposits_GAPS_Builders
                }
                remove_deposit = yes
            }
            every_owned_pop = {
                limit = {
                    has_trait = Trait_GAPS_Builder
                }
                planet = {
                    change_variable = {
                        which = "Planet_Variable_GAPS_Num_Builder_Pops"
                        value = 1
                    }
                }
            }
            while = {
                count = Planet_Variable_GAPS_Num_Builder_Pops
                add_deposit = Deposits_GAPS_Builders
            }
        }
    }
}
